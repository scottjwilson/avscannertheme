(function(){const c=document.querySelector(".site-header");function l(){window.scrollY>50?c==null||c.classList.add("is-scrolled"):c==null||c.classList.remove("is-scrolled")}const s=document.querySelector(".menu-toggle"),t=document.querySelector(".nav-mobile");function u(){const e=(s==null?void 0:s.getAttribute("aria-expanded"))==="true";s==null||s.setAttribute("aria-expanded",!e),t==null||t.classList.toggle("is-open"),t==null||t.setAttribute("aria-hidden",e),document.body.classList.toggle("menu-open")}function a(){s==null||s.setAttribute("aria-expanded","false"),t==null||t.classList.remove("is-open"),t==null||t.setAttribute("aria-hidden","true"),document.body.classList.remove("menu-open")}function f(){const e=document.querySelectorAll(".reveal");if(!e.length)return;const n={root:null,rootMargin:"0px 0px -10% 0px",threshold:.1},o=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&i.target.classList.add("is-visible")})},n);e.forEach(r=>{o.observe(r)})}function g(){const e=document.querySelectorAll(".stagger-children");if(!e.length)return;const n={root:null,rootMargin:"0px 0px -10% 0px",threshold:.1},o=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&i.target.classList.add("is-visible")})},n);e.forEach(r=>{o.observe(r)})}function h(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(n){const o=this.getAttribute("href");if(o==="#")return;const r=document.querySelector(o);if(r){n.preventDefault();const i=(c==null?void 0:c.offsetHeight)||0,b=r.getBoundingClientRect().top+window.pageYOffset-i-20;window.scrollTo({top:b,behavior:"smooth"}),a()}})})}function v(){const e=document.querySelectorAll("img[data-src]");if(e.length)if("IntersectionObserver"in window){const n=new IntersectionObserver(o=>{o.forEach(r=>{if(r.isIntersecting){const i=r.target;i.src=i.dataset.src,i.removeAttribute("data-src"),n.unobserve(i)}})},{rootMargin:"50px 0px"});e.forEach(o=>{n.observe(o)})}else e.forEach(n=>{n.src=n.dataset.src,n.removeAttribute("data-src")})}function p(){const e=document.querySelectorAll("[data-year]"),n=new Date().getFullYear();e.forEach(o=>{o.textContent=n})}function d(){window.addEventListener("scroll",l,{passive:!0}),s==null||s.addEventListener("click",u),t==null||t.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",a)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&a()}),l(),f(),g(),h(),v(),p()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):d()})();
